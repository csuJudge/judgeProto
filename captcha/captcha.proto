syntax            = "proto3";
option go_package = "github.com/csuJudge/judgeProto/captcha";

package oj.captcha;

service CaptchaServer {
  // SendCaptcha 发送验证码
  rpc SendCaptcha(SendCaptchaReq) returns (SendCaptchaRsp) {}
  // VerifyCaptcha 验证验证码
  rpc VerifyCaptcha(VerifyCaptchaReq) returns (VerifyCaptchaRsp) {}
}

message VerifyCaptchaReq{
  string captchaID = 1; // 验证码编号
  string captcha = 2; // 验证码
}

message VerifyCaptchaRsp {
  string message = 1;  // 返回信息
  int32 code     = 2;  // 返回码
  bool isValid = 3; // 是否正确
  string verifyMessage = 4; // 验证信息
}

message SendCaptchaRsp {
  string message = 1;  // 返回信息
  int32 code     = 2;  // 返回码
  string captchaID = 3; // 验证码编号
}

message SendCaptchaReq{
  string receive = 1; // 手机号或者邮箱号
  int32 registerType = 2; // 注册的类型
}
